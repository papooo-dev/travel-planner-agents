# Agent Architecture
```mermaid
flowchart TB
 subgraph subGraph0["ê²€ì¦ í”„ë¡œì„¸ìŠ¤"]
        V["Validator Agent"]
        IP["Planner Agent"]
        NM["Kakao Map API"]
  end
    U[/"User"/] <-- ìì—°ì–´ ìš”ì²­ / ì‘ë‹µ / ì§ˆë¬¸ --> S["Supervisor"]
    S -- ì¥ì†Œ íƒìƒ‰ ìš”ì²­ --> PS["Place Search Agent"]
    PS -- í‚¤ì›Œë“œ ì§ˆë¬¸ --> S
    PS -- ì—¬í–‰ì¥ì†Œ ê²€ìƒ‰ --> KM["Search Tool"]
    KM -- ì¥ì†Œ ë¦¬ìŠ¤íŠ¸ --> PS
    PS -- í›„ë³´ ì¥ì†Œ ë¦¬ìŠ¤íŠ¸ --> S
    S -- ì—¬í–‰ ê³„íšì„œ ì‘ì„± ìš”ì²­(+í›„ë³´ ì¥ì†Œ ë¦¬ìŠ¤íŠ¸) --> IP
    IP -- ì¼ì • ê´€ë ¨ ì¶”ê°€ ì§ˆë¬¸ --> S
    IP -- ì„ ì •ëœ ì—¬í–‰ì§€ ê²€ì¦ ìš”ì²­ --> V
    V -- ì¥ì†Œ ê²€ì¦ --> NM
    NM -- ê²€ì¦ ê²°ê³¼ --> V
    V -- ê²€ì¦ëœ ì¥ì†Œ --> IP
    IP -- ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì¬ì„ ì • --> IP
    IP -- ì—¬í–‰ ê³„íšì„œ --> S
    S -- ìº˜ë¦°ë” ì¼ì • ìš”ì²­(+ì—¬í–‰ ê³„íšì„œ) --> CA["Calendar Agent"]
    CA -- Google Calendar CRUD --> GC["Google Calendar API"]
    CA -- ì™„ë£Œ ìƒíƒœ --> S
    S -- ê³µìœ  ìš”ì²­(+ì—¬í–‰ ê³„íšì„œ) --> SH["Share Agent"]
    SH -- ì´ë©”ì¼ ë°œì†¡ --> EM["Email Service"]
    SH -- ì™„ë£Œ ìƒíƒœ --> S

     V:::agent
     IP:::agent
     NM:::api
     U:::agent
     S:::agent
     PS:::agent
     KM:::api
     CA:::agent
     GC:::api
     SH:::agent
     EM:::api
    classDef agent fill:#f3f4f6,stroke:#333,stroke-width:1px,rx:8,ry:8
    classDef data fill:#e0f7fa,stroke:#0aa,stroke-width:1px,rx:8,ry:8,font-style:italic
    classDef api fill:#fff8e1,stroke:#fb8c00,stroke-width:1px,rx:8,ry:8
```

### í•µì‹¬ ë™ì‘ íë¦„

**ì‚¬ìš©ì ìš”ì²­â†’Supervisor**

- ì‚¬ìš©ìëŠ” ìì—°ì–´ë¡œ "ì—¬í–‰ì§€ë¥¼ ì¶”ì²œí•´ì¤˜", "ì¼ì •ì„ ë§Œë“¤ì–´ì¤˜" ê°™ì€ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
- Supervisor(create_supervisor ê¸°ë°˜ LLM + ë¼ìš°íŒ… ë¡œì§)ì€ ì‚¬ìš©ìì˜ ì˜ë„ë¥¼ ë¶„ë¥˜í•œ ë’¤, í˜¸ì¶œí•´ì•¼ í•  í•˜ë‚˜ì˜ ì—ì´ì „íŠ¸ì™€ ì „ë‹¬í•  íŒŒë¼ë¯¸í„°(JSON)ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
- ì‹¤íŒ¨í•˜ê±°ë‚˜ ì• ë§¤í•  ê²½ìš° "ì¶”ê°€ ì§ˆë¬¸"ì„ ë§Œë“¤ì–´ ì‚¬ìš©ìì—ê²Œ ë˜ë¬»ìŠµë‹ˆë‹¤.

**ì¥ì†Œ íƒìƒ‰ ë° ê²€ì¦ ë‹¨ê³„ â€“ Place Search Agent**

- ì‚¬ìš©ìê°€ ì—¬í–‰ ì¥ì†Œì˜ ê²€ìƒ‰ì„ ìš”ì²­í•˜ë©´ SupervisorëŠ” Place Search Agentë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

- ì—¬í–‰ì§€ ê²€ìƒ‰ì— í•„ìš”í•œ í‚¤ì›Œë“œë¥¼ ì‚¬ìš©ìì—ê²Œ ì¶”ê°€ ì§ˆë¬¸ì„ í†µí•´ ë˜ë¬»ìŠµë‹ˆë‹¤.

- ì‚¬ìš©ìê°€ ì…ë ¥í•œ í‚¤ì›Œë“œë¥¼ í†µí•´ ì—¬í–‰ì¥ì†Œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. (Tool ì‚¬ìš©)

- SupervisorëŠ” ìš”ì•½ëœ ì—¬í–‰ì •ë³´ë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.

- >  Google Place API(ìš´ì˜ì‹œê°„) + Kakao Local APIë¡œ í›„ë³´ ì¥ì†Œ ë¦¬ìŠ¤íŠ¸(JSON)ë¥¼ ë°˜í™˜ - [ì°¸ê³ ](https://developers.kakao.com/docs/latest/ko/local/dev-guide#search-by-keyword) ì´ë¦„, ì£¼ì†Œ, place_url, ì¹´í…Œê³ ë¦¬ëª…, ì „í™”ë²ˆí˜¸

**ì—¬í–‰ ê³„íšì„œ ì‘ì„± ë° ê²€ì¦ ë‹¨ê³„ â€“ Planner Agent â†’ Validator Agent**

- ì‚¬ìš©ìê°€ ì¼ì •í‘œ(ì—¬í–‰ ê³„íšì„œ) ì‘ì„±ì„ ìš”ì²­í•˜ë©´ SupervisorëŠ” Planner Agentë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
- ê³„íšì„œ ì‘ì„±ì„ ìœ„í•œ ì •ë³´(ì¼ì •-ë©°ì¹ ë¶€í„° ë©°ì¹ ê¹Œì§€, ì°¨ ì—¬ë¶€)ë¥¼ ì‚¬ìš©ìì—ê²Œ ì¶”ê°€ ì§ˆë¬¸ì„ í†µí•´ ë˜ë¬»ìŠµë‹ˆë‹¤. 
- í›„ë³´ ì¥ì†Œë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ ì¼ì • ê³„íšì„œì— ì˜¬ë¦´ ì—¬í–‰ì§€ë¥¼ ì„ ì •í•©ë‹ˆë‹¤
- ì˜¤í”ˆì‹œê°„ì„ ê³ ë ¤í•˜ì—¬ ì¼ìë³„ íƒ€ì„ë¼ì¸ì„ ìƒì„±í•˜ì—¬ ì—¬í–‰ê³„íšì„œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. (ë‚ ì”¨ê³ ë ¤?) . (w/ Google Place API)
- supervisorëŠ” planner Agentë¡œë¶€í„° ì—¬í–‰ê³„íšì„œë¥¼ ë°›ì•„ì„œ Validator Agentë¥¼ í†µí•´ ê²€ì¦ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. (ìƒí˜¸ëª…, ì£¼ì†Œ ì¡´ì¬ ì—¬ë¶€ ê²€ì¦)
- ê²€ì¦ì— ì„±ê³µí•œ ê²½ìš°, ê²€ì¦ëœ ì—¬í–‰ê³„íšì„œë¥¼ supervisor agentì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ê²€ì¦ì— ì‹¤íŒ¨í•œ ê²½ìš° ìˆ˜ì •ëœ ì—¬í–‰ì§€ì— ëŒ€í•œ ì •ë³´ë¡œ ë‹¤ì‹œ planner Agentì—ê²Œ ì „ë‹¬í•´ì„œ planner agentëŠ” ì—¬í–‰ê³„íšì„œë¥¼ ë‹¤ì‹œ ì‘ì„±í•©ë‹ˆë‹¤.
- agentê°€ ì‘ì—…ì´ ì™„ë£Œë˜ë©´, SupervisorëŠ” ì—¬í–‰ê³„íšì„œ ì™„ë£Œê°€ ë˜ì—ˆë‹¤ê³  ì±„íŒ…ì— ì•Œë¦¬ê³ , í™”ë©´ ìš°ì¸¡ì— ì—¬í–‰ê³„íšì„œì— ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. 

**ìº˜ë¦°ë” ì¼ì • ìƒì„± ë‹¨ê³„ - Calendar Agent**

- ì‚¬ìš©ìê°€ ì—¬í–‰ ì¼ì •ì„ ìº˜ë¦°ë”ì— ë°˜ì˜í•´ë‹¬ë¼ê³  ìš”ì²­í•˜ë©´, SupervisorëŠ” Calendar Agentë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
- ì—¬í–‰ê³„íšì„œë¥¼ í†µí•´ Google Calendar APIë¥¼ í†µí•´ CRUDë¥¼ í•©ë‹ˆë‹¤.
- agentì˜ ì‘ì—… ì™„ë£Œ í›„, supervisorëŠ” ì„±ê³µÂ·ì‹¤íŒ¨ ìƒíƒœë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.

**ì—¬í–‰ ê³„íšì„œ ê³µìœ  ë‹¨ê³„ - Share Agent**

- ì‚¬ìš©ìê°€ ì—¬í–‰ ê³„íšì„œë¥¼ ê³µìœ ë¥¼ ìš”ì²­í•˜ë©´,  SupervisorëŠ” Share Agentë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
- ì‚¬ìš©ìì˜ ì´ë©”ì¼ë¡œ ì—¬í–‰ê³„íšì„œë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.



# System Architecture
```mermaid
flowchart LR
    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Frontend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph Streamlit UI
        direction TB
        A1[ì±„íŒ… ì°½]:::ui
        A2[ì—¬í–‰ê³„íšì„œ íŒ¨ë„]:::ui
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Backend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph FastAPI Backend
        B1[LangGraph Runtime - Supervisor & Agents]:::backend
        B2[Session State Store - Redis]:::storage
        B3[Vector Store - Chroma/PGVector]:::storage
        B4[PDF/Email Service]:::backend
        B5[Observability - LangSmith Tracing + Prom / Grafana]:::ops
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ External APIs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    subgraph External APIs
        C1[Kakao Map REST]:::api
        C2[Naver Map REST]:::api
        C3[Google Calendar API]:::api
        C4[SMTP - E-mail]:::api
    end

    %% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Edges â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    A1 -- SSE / WebSocket ìŠ¤íŠ¸ë¦¬ë° --> B1
    A2 <-- Markdown / JSON patch --> B1

    B1 <--> B2
    B1 <--> B3
    B1 -->|ì¥ì†Œ íƒìƒ‰| C1
    B1 -->|ê²€ì¦| C2
    B1 -->|ìº˜ë¦°ë” CRUD| C3
    B4 -->|ë©”ì¼| C4
    B1 --> B4
    B1 --> B5
```



---



ì–´ë ¤ìš´ì 

- ê° agentì— checkpointerë¥¼ ë‘ê³ , ëŒ€í™”ë¥¼ ì´ì–´ë‚˜ê°”ì„ ë•Œ, ì‚¬ìš©ìê°€ ì²˜ìŒì— ì…ë ¥í•œ ì¥ì†Œì •ë³´, agentë¥¼ í†µí•´ ì°¾ì€ ì—¬í–‰ì§€ ì¥ì†Œë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ìê¾¸ ê¹Œë¨¹ê³  ë‹¤ì‹œ ë¬¼ì–´ë³´ëŠ” ë¬¸ì œ ë°œìƒ
  - ì—¬í–‰ì¥ì†Œ, ì—¬í–‰ì¼ì •, ì—¬í–‰ì§€ ë“± ê³ ì •ì •ë³´ëŠ” ë³´ê´€í•´ì•¼í•¨
  - => InMemoryStoreë¥¼ í™œìš©í•´ agentsì—ì„œ ì¡°íšŒ, ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ê°œì„ 
- ë‹¤ì‹œë°œìƒí•œ ë¬¸ì œ-> supervisorì—ì„œ ì—¬í–‰ê¸°ë³¸ì •ë³´ë¥¼ saveí•˜ëŠ” ì—­í• ì„ ê°™ì´í–ˆìœ¼ë‚˜, ì˜ ë˜ì§€ ì•ŠìŒ





#### ğŸ“ Day 1 - 6ì›” 10ì¼ (í™”)

| ì‹œê°„  | í™œë™ ë‚´ìš©            | ìœ„ì¹˜                                                     |
| ----- | -------------------- | -------------------------------------------------------- |
| 9:00  | ì•„ì¹¨ì‹ì‚¬             | [ë°”ë‹¤ë§ˆë£¨ì „ë³µì£½](http://place.map.kakao.com/8379689)     |
| 10:00 | ì¹´í˜ì—ì„œ íœ´ì‹        | [ì›¨ì´ë¸Œì˜¨ ì»¤í”¼](http://place.map.kakao.com/528293263)    |
| 12:00 | ì ì‹¬ì‹ì‚¬             | [ê¸°ì¥êµ­ë³´ë¯¸ì—­ ë³¸ì ](http://place.map.kakao.com/26599991) |
| 14:00 | í•´ìš´ëŒ€ í•´ìˆ˜ìš•ì¥ ë°©ë¬¸ | [í•´ìš´ëŒ€ í•´ìˆ˜ìš•ì¥](https://place.map.kakao.com/7913306)   |
| 19:00 | ì €ë…ì‹ì‚¬             | [í•´ìš´ëŒ€ì•”ì†Œê°ˆë¹„ì§‘](https://place.map.kakao.com/8149130)  |
| 21:00 | ìˆ™ì†Œ ë³µê·€ ë° íœ´ì‹    | [ë¡¯ë°í˜¸í…” ë¶€ì‚°](https://place.map.kakao.com/7862727)     |